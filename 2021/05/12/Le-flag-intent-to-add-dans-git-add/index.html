<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Le flag -N ou &#34;--intent-to-add&#34; de git add | Daily knowledge extract</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="AJA que l’on pouvait spécifier à git qu’on prévoyait d’ajouter des fichiers sans forcément les ajouter tout de suite à l’index ! Mais pourquoi voudrait-on faire ça ? Eh bien il peut être embêtant dans">
<meta property="og:type" content="article">
<meta property="og:title" content="Le flag -N ou &quot;--intent-to-add&quot; de git add">
<meta property="og:url" content="http://blueint32.github.io/2021/05/12/Le-flag-intent-to-add-dans-git-add/index.html">
<meta property="og:site_name" content="Daily knowledge extract">
<meta property="og:description" content="AJA que l’on pouvait spécifier à git qu’on prévoyait d’ajouter des fichiers sans forcément les ajouter tout de suite à l’index ! Mais pourquoi voudrait-on faire ça ? Eh bien il peut être embêtant dans">
<meta property="og:locale" content="fr_FR">
<meta property="og:image" content="http://blueint32.github.io/2021/05/12/Le-flag-intent-to-add-dans-git-add/joy.png">
<meta property="article:published_time" content="2021-05-12T06:56:51.000Z">
<meta property="article:modified_time" content="2021-05-12T07:21:07.382Z">
<meta property="article:author" content="BlueInt32">
<meta property="article:tag" content="git">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://blueint32.github.io/2021/05/12/Le-flag-intent-to-add-dans-git-add/joy.png">
  
    <link rel="alternate" href="/atom.xml" title="Daily knowledge extract" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Daily knowledge extract</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">À propos</a>
        
          <a class="main-nav-link" href="/contact">Contact</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Rechercher"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blueint32.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-Le-flag-intent-to-add-dans-git-add" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/12/Le-flag-intent-to-add-dans-git-add/" class="article-date">
  <time class="dt-published" datetime="2021-05-12T06:56:51.000Z" itemprop="datePublished">2021-05-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Le flag -N ou &#34;--intent-to-add&#34; de git add
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>AJA que l’on pouvait spécifier à git qu’on <em>prévoyait d’ajouter</em> des fichiers sans forcément les ajouter tout de suite à l’index !</p>
<p>Mais pourquoi voudrait-on faire ça ? Eh bien il peut être embêtant dans git de faire des différentiels lorsque certains fichiers viennent d’être rajoutés, car ceux-ci seront tout simplement ignorés par git tant qu’il n’aura pas été mis au courant que ces fichiers ont un rôle dans la base de code (pour autant que git sache, on pourrait très bien vouloir ajouter ces fichiers dans le <code>.gitignore</code>).</p>
<p>Jusqu’ici, je détournais ce comportement en ajoutant tous les fichiers avec</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git add .</span><br></pre></td></tr></table></figure>

<p>Ainsi, les nouveaux fichiers apparaissaient et je pouvais vérifier mon différentiel avec</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff-tool --staged</span><br></pre></td></tr></table></figure>

<p>L’ennui avec cette approche, c’est que l’opération naturelle qui consiste à ajouter certains fichiers au fur à mesure de l’analyse du différentiel n’est plus possible car tous les fichiers sont déjà dans l’index…</p>
<p>Mais ça, c’était avant. Il est possible de spécifier à git que des fichiers vont être ajoutés, sans les ajouter concrètement tout de suite à l’index :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git add --intent-to-add .</span><br><span class="line"> ou</span><br><span class="line">$ git add -N .</span><br></pre></td></tr></table></figure>

<p>Les nouveaux fichiers ont alors bien une entrée dans l’index, sans contenu effectif : le diff-tool les verra sans qu’ils soient encore concrètement dans l’index. C’est du temps de gagné ! <img src="/2021/05/12/Le-flag-intent-to-add-dans-git-add/joy.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blueint32.github.io/2021/05/12/Le-flag-intent-to-add-dans-git-add/" data-id="ckol4w9jn0004ltni5lnu6qnd" data-title="Le flag -N ou &#34;--intent-to-add&#34; de git add" class="article-share-link">Partager</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/" rel="tag">git</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2021/05/12/Syntaxe-alternative-pour-tests-exceptions-csharp/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Ancien</strong>
      <div class="article-nav-title">Syntaxe alternative pour les tests d&#39;exception en C#</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Mot-clés</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bash/" rel="tag">bash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/" rel="tag">html</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/typescript/" rel="tag">typescript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuejs/" rel="tag">vuejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-components/" rel="tag">web components</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">mai 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Articles récents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/05/12/Le-flag-intent-to-add-dans-git-add/">Le flag -N ou &#34;--intent-to-add&#34; de git add</a>
          </li>
        
          <li>
            <a href="/2021/05/12/Syntaxe-alternative-pour-tests-exceptions-csharp/">Syntaxe alternative pour les tests d&#39;exception en C#</a>
          </li>
        
          <li>
            <a href="/2021/05/08/VueJs-et-les-Web-components/">Les web components et les frameworks JS</a>
          </li>
        
          <li>
            <a href="/2021/05/05/Recuperation-de-la-branche-active-dans-bash/">Injection du nom de la branche git active dans bash</a>
          </li>
        
          <li>
            <a href="/2021/05/05/Git-squash-sur-plusieurs-commits/">Git squash sur plusieurs commits avec cherry-pick</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 BlueInt32<br>
      Propulsé par <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">À propos</a>
  
    <a href="/contact" class="mobile-nav-link">Contact</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>